<%@ page contentType="text/html;charset=UTF-8"%>
<%@ taglib prefix="form" uri="http://www.springframework.org/tags/form"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>

<jsp:include page="header.jsp">
	<jsp:param name="pageTitle" value="Home" />
</jsp:include>

<form:form modelAttribute="commonBean" action="homeList.htm">
	<table width="50%" class="menu_box" align="center">
		<tr>
			<td><form:label path="arrName">Name:</form:label></td>
			<td><form:input path="arrName" /></td>
			<td><form:label path="dateOfArrivals">Arrival Date:</form:label></td>
			<td><form:input path="dateOfArrivals" /></td>
		</tr>
		<tr>
			<td><form:label path="headName">GroupHead Name:</form:label></td>
			<td><form:input path="headName" /></td>
			<td><form:label path="dateOfDeparture">Departure Date:</form:label></td>
			<td><form:input path="dateOfDeparture" /></td>
			<td><input type="submit" value="Search" /></td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td>&nbsp;</td>
			<td>&nbsp;</td>
			<td>&nbsp;</td>
			<td>&nbsp;</td>
			<td>&nbsp;</td>
		</tr>
		<tr>
			<td>&nbsp;</td>
			<td>&nbsp;</td>
			<td>&nbsp;</td>
			<td>&nbsp;</td>
			<td>&nbsp;</td>
			<td>&nbsp;</td>
		</tr>
	</table>
	<c:choose>
		<c:when test="${not empty rigistedUser }">
			<table width="50%" align="center" class="menu_box">
				<tr>
					<td align="center">
					<h2>Results</h2>
					</td>
				</tr>
			</table>
			<table width="50%" align="center" class="menu_box">
				<tr bgcolor="#c0c0c0">
					<th>Confirmation</th>
					<th>Name</th>
					<th>Property Name</th>
					<th>Building Name</th>
					<th>Room No.</th>
					<th>Arrival Date.</th>
					<th>Departure Date.</th>
					<th>Vacant</th>
				</tr>
				<c:forEach items="${rigistedUser}" var="searchBeans">
					<tr>
						<c:choose>
							<c:when test="${searchBeans.confirmation !=null}">
								<td align="center"><c:out value="C" /></td>
							</c:when>
							<c:when test="${searchBeans.confirmation eq null}">
								<td align="center"><form:checkbox path="checkbox"
									value="${searchBeans.buildingRoomId}" /></td>
							</c:when>
						</c:choose>
						<td align="center"><a
							href="arrivalsEdit.htm?buildingRoomId=${searchBeans.buildingRoomId}">${searchBeans.expectedArrivals.arrName}</a></td>
						<td align="center">${searchBeans.yogaProperty.propertyName}</td>
						<td align="center">${searchBeans.yogaBuilding.buildingName}</td>
						<td align="center">${searchBeans.yogaRoom.roomNumber}</td>
						<td align="center">${searchBeans.expectedArrivals.dateOfArrivals}</td>
						<td align="center">${searchBeans.expectedArrivals.dateOfDeparture}</td>
						<td align="center"><form:checkbox path="checkbox"
							value="${searchBeans.buildingRoomId}" /></td>
					</tr>
				</c:forEach>
			</table>
			<table align="center" width="50%" class="menu_box">
				<tr>
					<td align="right"><input type="submit" value="Confirm"
						name="confirmation" /></td>
					<td align="left"><input type="submit" value="Vacant"
						name="vacant" /></td>
				</tr>
			</table>
		</c:when>
		<c:otherwise>
		<table width="50%" align="center" class="menu_box">
		<tr>
		<td align="center"><h2>New User ?Go for <a href="${pageContext.request.contextPath}/accomodation/index.htm" >Registration</a></h2></td>
		</tr>
		</table>
		</c:otherwise>

	</c:choose>
</form:form>
<%@include file="footer.jsp"%>

